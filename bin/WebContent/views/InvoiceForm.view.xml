<core:View xmlns:core="sap.ui.core" xmlns:commons="sap.ui.commons"
	xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:semantic="sap.m.semantic"
	xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" controllerName="views.InvoiceForm"
	xmlns:html="http://www.w3.org/1999/xhtml">
	<semantic:DetailPage id="idOrderForm" title="Invoice {num}"
		showNavButton="true"  navButtonPress="onNavBack" >

		<semantic:customHeaderContent>
			<Button icon="sap-icon://home" press="onNavHome" />
		</semantic:customHeaderContent>

		<IconTabBar stretchContentHeight="true" select="onTabSelect">
			<items>
				<IconTabFilter icon="sap-icon://header" id="idOverview"
					text="Overview" key="overview">
					<content>
						<f:SimpleForm minWidth="1024" width="" editable="false"
							labelMinWidth="192" layout="ResponsiveGridLayout" labelSpanL="3"
							labelSpanM="3" emptySpanL="4" emptySpanM="4" columnsL="2"
							columnsM="2">
							<Label text="Number" />
							<Text text="{num}" />
							<Label text="Date" />
							<Text text="{date}" />
                            <Label text="Owner" />
                            <Text text="{partnerid} {partnername}" />
							<Label text="Status" />
							<Text text="{stat}" />
							<Label text="Description" />
							<Text text="{note}" />
     					</f:SimpleForm>

						<Table class="sapUiSizeCompact" headerText="Partners" xmlns="sap.m"
							id="idTabPartners" items="{path: 'parties'}">
							<items>
								<ColumnListItem>
									<cells>
										<Text text="{role}" />
										<Text text="{partnerid}" />
										<Text text="{partnername}" />
									</cells>
								</ColumnListItem>
							</items>

							<columns>
								<Column id="idParRole" width="100px">
									<Label text="Role" />
								</Column>
								<Column id="IdParID" width="100px">
									<Label text="Id" />
								</Column>
								<Column id="idParText">
									<Label text="Description" />
								</Column>

							</columns>
						</Table>

					</content>
				</IconTabFilter>

				<IconTabFilter icon="sap-icon://cause" id="idDetails"
					text="Details" key="details">
					<content>
						<f:SimpleForm minWidth="1024" width="" editable="false"
							labelMinWidth="192" layout="ResponsiveGridLayout" labelSpanL="3"
							labelSpanM="3" emptySpanL="4" emptySpanM="4" columnsL="1"
							columnsM="1">
							<Label text="Number" />
							<Text text="{num}" />
							<Label text="Date" />
							<Text text="{date}" />
							<Label text="Note" />
							<Text text="{note}" />
							<Label text="Net amount" />
							<Text text="{netamount}" />

							<Label text="VAT amount" />
							<Text text="{vatamount}" />

						</f:SimpleForm>

						<Table class="sapUiSizeCompact" headerText="Positions"
							xmlns="sap.m" id="idTabPositions" items="{path: 'positions'}">
							<items>
								<ColumnListItem>
									<cells>
										<Text text="{posid}" />
										<Text text="{postxt}" />
										<Text text="{deliverydate}" />
										<Text text="{quantity}" />
										<Text text="{price}" />
										<Text text="{netamount}" />
										<Text text="{vatamount}" />
									</cells>
								</ColumnListItem>
							</items>

							<columns>
								<Column id="idPos" width="100px">
									<Label text="Pos" />
								</Column>
								<Column id="IdDescr" width="200px">
									<Label text="Description" />
								</Column>
								<Column id="DelDate">
									<Label text="Delivery date" />
								</Column>
								<Column id="idQuantity">
									<Label text="Quantity" />
								</Column>
								<Column id="idPrice">
									<Label text="Price" />
								</Column>
								<Column id="idNetAmout">
									<Label text="Net amount" />
								</Column>
								<Column id="idVatAmount">
									<Label text="VAT amount" />
								</Column>
							</columns>
						</Table>
					</content>

				</IconTabFilter>

				<IconTabFilter icon="sap-icon://approvals" id="idApproval"
					text="Approval details" key="approval">
					<List headerText="Approval details" items="{path: 'approval'}">
						<CustomListItem>
							<HBox>
								<core:Icon size="2rem"
									src="{path: 'approve', formatter: '.formatApprovalIcon'}"
									class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom" />
								<VBox class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom">
									<Label text="{stepno} " />
									<Label text="{partnerid} {partnername}" />
								</VBox>
								<HBox width="100%" justifyContent="End" alignItems="Center">
								    <Label text="Comment" />
									<TextArea value="{note}" class="sapUiSmallMarginBegin" enabled="{approve}" editable="{approve}" />

								</HBox>
							</HBox>

						</CustomListItem>
					</List>

				</IconTabFilter>
			</items>
		</IconTabBar>

		<semantic:positiveAction>
			<semantic:PositiveAction text="Approve" />
		</semantic:positiveAction>

		<semantic:negativeAction>
			<semantic:NegativeAction text="Reject" />
		</semantic:negativeAction>
		<BusyDialog id="idBusyDialog" />
	</semantic:DetailPage>
</core:View>
